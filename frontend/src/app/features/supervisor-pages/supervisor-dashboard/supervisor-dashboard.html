<div class="container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <span class="material-symbols-outlined logo-icon">school</span>
      <h2 class="logo-text">UNIverse</h2>
    </div>
    <nav class="nav">
      <a class="nav-link active" routerLink="/supervisor-dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
        <span class="material-symbols-outlined">dashboard</span>
        <span>Dashboard</span>
      </a>
      <a class="nav-link" routerLink="/supervisor-dashboard/course-availability" routerLinkActive="active">
        <span class="material-symbols-outlined">event_available</span>
        <span>Course Availability</span>
      </a>
      <a class="nav-link" routerLink="/supervisor-dashboard/generate-timetable" routerLinkActive="active">
        <span class="material-symbols-outlined">calendar_month</span>
        <span>Generate Timetable</span>
      </a>
      <a class="nav-link" routerLink="/supervisor-dashboard/manage-faculty" routerLinkActive="active">
        <span class="material-symbols-outlined">groups</span>
        <span>Manage Faculty</span>
      </a>
    </nav>
    <div class="sidebar-footer">
      <a class="nav-link" href="javascript:void(0)" (click)="logout()">
        <span class="material-symbols-outlined">logout</span>
        <span>Logout</span>
      </a>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="main-wrapper">
    <!-- Header -->
    <header class="header">
      <div class="header-actions">
        <button class="notification-btn">
          <span class="material-symbols-outlined">notifications</span>
          <span class="notification-badge"></span>
        </button>
        <div class="user-profile">
          <div class="user-avatar" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAoY4Wp7qmxX4VDSoT3Vmr2qswqkkPQKnfXBi6UrbCvHMkyQzCjFcbZlORsU-j2DvMuJNYOaqwfZcgTjF_Hg8IDEtySTCcfrtyWohPVSbGWzk_oW6GXLl0Hz6W9aDh3lqrBKeUzDWnMUPNGhawW9SNYnA9mf23sryoHadAYDjt2nOqgr2sbWDfD66OJ8Z0EzkvZS8SELiYlOJitGiAXsYPceto35Ief5jqo9WsQb0JhLm_z4eaJE5XPe2C6hgQEr3qw0BVsIWoEIHM");'></div>
          <div class="user-info">
            <p class="user-name">Alex Hartman</p>
            <p class="user-role">Supervisor</p>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content Area -->
    <main class="main-content">
      <div class="content-wrapper">
        <!-- Stats Cards -->
        <div class="stats-grid">
          <div *ngFor="let stat of stats" class="stat-card">
            <div class="stat-content">
              <div [ngClass]="getStatIconClass(stat.color)">
                <span class="material-symbols-outlined">{{ stat.icon }}</span>
              </div>
              <div class="stat-info">
                <p class="stat-number">{{ stat.value | number }}</p>
                <p class="stat-label">{{ stat.label }}</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Action Cards -->
        <div class="action-grid">
          <!-- Course Availability -->
          <div class="action-card">
            <h2 class="card-title">
              <span class="material-symbols-outlined">event_available</span>
              Manage Course Availability
            </h2>
            <div class="card-content">
              <div *ngFor="let alert of courseAlerts" [ngClass]="getAlertClass(alert.type)">
                <p class="alert-title">{{ alert.title }}</p>
                <p class="alert-text">{{ alert.text }}</p>
                <a class="alert-link" (click)="handleAlertAction(alert)" href="javascript:void(0)">{{ alert.actionText }}</a>
              </div>
            </div>
            <button class="btn btn-primary" (click)="viewAllCourses()">
              <span class="material-symbols-outlined">edit_calendar</span>
              <span>View All Courses</span>
            </button>
          </div>

          <!-- Generate Timetable -->
          <div class="action-card">
            <h2 class="card-title">
              <span class="material-symbols-outlined">calendar_month</span>
              Generate Timetable
            </h2>
            <div class="card-content">
              <div *ngFor="let alert of timetableAlerts" [ngClass]="getAlertClass(alert.type)">
                <p class="alert-title">{{ alert.title }}</p>
                <p class="alert-text">{{ alert.text }}</p>
                <a class="alert-link" (click)="handleAlertAction(alert)" href="javascript:void(0)">{{ alert.actionText }}</a>
              </div>
            </div>
            <button class="btn btn-primary" (click)="generateNewTimetable()">
              <span class="material-symbols-outlined">calendar_add_on</span>
              <span>Generate New Timetable</span>
            </button>
          </div>

          <!-- Faculty & Performance -->
          <div class="column-stack">
            <!-- Manage Faculty -->
            <div class="action-card">
              <h2 class="card-title">
                <span class="material-symbols-outlined">group</span>
                Manage Faculty
              </h2>
              <div class="faculty-list">
                <div *ngFor="let faculty of recentFacultyChanges" class="faculty-item" (click)="viewFacultyDetails(faculty)">
                  <div class="faculty-avatar" [style.background-image]="'url(' + faculty.avatar + ')'"></div>
                  <div class="faculty-info">
                    <p class="faculty-name">{{ faculty.name }}</p>
                    <p class="faculty-role">{{ faculty.role }}</p>
                  </div>
                  <span class="material-symbols-outlined chevron">chevron_right</span>
                </div>
              </div>
              <button class="btn btn-secondary" (click)="viewAllFaculty()">
                <span class="material-symbols-outlined">person_add</span>
                <span>View All Faculty</span>
              </button>
            </div>

            <!-- Review Performance -->
            <div class="action-card">
              <h2 class="card-title">
                <span class="material-symbols-outlined">trending_up</span>
                Review Performance
              </h2>
              <div class="performance-list">
                <div *ngFor="let performance of performanceMetrics" class="performance-item" (click)="downloadReport(performance)">
                  <div class="performance-info">
                    <p class="performance-title">{{ performance.title }}</p>
                    <p class="performance-text">{{ performance.description }}</p>
                  </div>
                  <span class="material-symbols-outlined download-icon">download</span>
                </div>
              </div>
              <button class="btn btn-secondary" (click)="exportDashboardData()">
                <span class="material-symbols-outlined">download</span>
                <span>Export Data</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
