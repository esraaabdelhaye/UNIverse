<div class="assignment-container">
  <div class="page-header">
    <div>
      <h1 class="page-title">Create New Assignment</h1>
      <p class="breadcrumb">Dashboard > Assignments > Create</p>
    </div>
  </div>

  <!-- Create Assignment Form -->
  <div class="form-card">
    <h2 class="form-section-title">Assignment Details</h2>

    <!-- Course Selection -->
    <div class="form-grid">
      <div class="form-group">
        <label class="form-label">Course <span class="required">*</span></label>
        <select class="form-control" [(ngModel)]="selectedCourse">
          <option *ngFor="let course of courses" [value]="course">{{ course }}</option>
        </select>
      </div>

      <div class="form-group">
        <label class="form-label">Total Points <span class="required">*</span></label>
        <input
          type="number"
          class="form-control"
          [(ngModel)]="totalPoints"
          min="0"
          placeholder="100">
      </div>
    </div>

    <!-- Assignment Title -->
    <div class="form-group">
      <label class="form-label">Assignment Title <span class="required">*</span></label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="assignmentTitle"
        placeholder="e.g., Problem Set 5">
    </div>

    <!-- Description -->
    <div class="form-group">
      <label class="form-label">Description <span class="required">*</span></label>
      <textarea
        class="form-control description-textarea"
        [(ngModel)]="assignmentDescription"
        placeholder="Provide instructions, context, and requirements for the assignment..."
        rows="8"></textarea>
    </div>

    <!-- Due Date & Time -->
    <div class="form-grid">
      <div class="form-group">
        <label class="form-label">Due Date <span class="required">*</span></label>
        <input
          type="date"
          class="form-control"
          [(ngModel)]="dueDate">
      </div>

      <div class="form-group">
        <label class="form-label">Due Time <span class="required">*</span></label>
        <input
          type="time"
          class="form-control"
          [(ngModel)]="dueTime">
      </div>
    </div>

    <!-- File Upload -->
    <div class="form-group">
      <label class="form-label">Attach Resources (Optional)</label>
      <div class="upload-area">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="upload-icon">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="17 8 12 3 7 8"></polyline>
          <line x1="12" y1="3" x2="12" y2="15"></line>
        </svg>
        <p class="upload-text">Drag and drop assignment resources</p>
        <p class="upload-subtext">or</p>
        <label class="upload-link">
          click to browse
          <input type="file" hidden (change)="onFileSelected($event)">
        </label>
        <p class="upload-hint">Accepted: PDF, DOC, PPT (Max 50MB)</p>
      </div>

      <!-- File Preview -->
      <div class="file-preview" *ngIf="selectedFile">
        <div class="file-item">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
          </svg>
          <div class="file-info">
            <div class="file-name">{{ selectedFile.name }}</div>
            <div class="file-size">{{ (selectedFile.size / 1024 / 1024).toFixed(2) }} MB</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="form-actions">
      <button class="btn btn-draft" (click)="saveDraft()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
          <polyline points="17 21 17 13 7 13 7 21"></polyline>
          <polyline points="7 3 7 8 15 8"></polyline>
        </svg>
        Save as Draft
      </button>
      <button class="btn btn-primary" (click)="createAssignment()" [disabled]="!assignmentTitle || !dueDate">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 16 16 12 12 8"></polyline>
          <polyline points="8 12 12 16 16 12"></polyline>
        </svg>
        Create Assignment
      </button>
    </div>
  </div>

  <!-- Recently Created Assignments -->
  <div class="recent-section">
    <h2 class="section-title">Recently Created</h2>
    <div class="assignments-list">
      <div class="assignment-item" *ngFor="let assignment of recentAssignments">
        <div class="assignment-info">
          <h3 class="assignment-title">{{ assignment.title }}</h3>
          <div class="assignment-meta">
            <span class="meta-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
              </svg>
              {{ assignment.course }}
            </span>
            <span class="meta-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
              Due: {{ assignment.dueDate | date:'MMM d, yyyy h:mm a' }}
            </span>
            <span class="meta-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2L15.09 8.26H22L17.55 12.5L19.64 18.76L12 14.01L4.36 18.76L6.45 12.5L2 8.26H8.91L12 2Z"></path>
              </svg>
              {{ assignment.points }} points
            </span>
            <span class="meta-item meta-date">
              Created: {{ assignment.createdDate | date:'MMM d, yyyy' }}
            </span>
          </div>
        </div>
        <div class="assignment-actions">
          <button class="action-btn" title="Edit">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"></path>
              <line x1="12" y1="9" x2="12" y2="15"></line>
              <line x1="9" y1="12" x2="15" y2="12"></line>
            </svg>
          </button>
          <button class="action-btn" title="View Submissions">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
          </button>
          <button class="action-btn delete-btn" title="Delete" (click)="deleteAssignment(assignment)">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="3 6 5 6 21 6"></polyline>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
              <line x1="10" y1="11" x2="10" y2="17"></line>
              <line x1="14" y1="11" x2="14" y2="17"></line>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
