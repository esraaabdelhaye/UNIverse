<h2 class="text-2xl font-bold mb-6 flex items-center gap-2"><span class="material-symbols-outlined text-3xl">calendar_month</span> Generate Timetable</h2>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
  <!-- Controls -->
  <div class="lg:col-span-1">
    <div class="bg-surface-light dark:bg-surface-dark rounded-lg p-6 border border-gray-200 dark:border-gray-800">
      <h3 class="text-lg font-bold mb-4">Generator Controls</h3>
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="semester">Semester</label>
          <select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm h-12 dark:bg-surface-dark dark:border-gray-600 dark:text-white" id="semester" name="semester">
            <option>Fall 2024</option>
            <option>Spring 2025</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="faculty">Faculty</label>
          <select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm h-12 dark:bg-surface-dark dark:border-gray-600 dark:text-white" id="faculty" name="faculty">
            <option>All Faculties</option>
            <option>Computer Science</option>
            <option>Arts & Humanities</option>
          </select>
        </div>
        <button class="mt-4 w-full flex items-center justify-center gap-2 p-3 rounded-DEFAULT bg-primary text-white hover:bg-primary-dark transition-colors">
          <span class="material-symbols-outlined">calendar_add_on</span>
          <span>Generate New Timetable</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Conflicts & Status -->
  <div class="lg:col-span-2">
    <div class="bg-surface-light dark:bg-surface-dark rounded-lg p-6 border border-gray-200 dark:border-gray-800">
      <h3 class="text-lg font-bold mb-4">Status & Conflicts</h3>
      <div class="p-4 rounded-DEFAULT bg-gray-50 dark:bg-gray-700 text-text-dark border border-gray-200 dark:border-gray-600 mb-4">
        <p class="font-semibold">Last Generated: Oct 26, 2023</p>
        <p class="text-sm text-text-light">Current timetable is active for Fall Semester.</p>
        <a class="text-sm font-semibold text-primary hover:underline mt-2 inline-block" href="#">View Current Timetable</a>
      </div>
      
      <div class="space-y-4">
        @for(conflict of conflicts; track conflict.id) {
          <div class="p-4 rounded-DEFAULT border"
            [class.bg-red-50]="conflict.type === 'error'"
            [class.dark:bg-red-900/20]="conflict.type === 'error'"
            [class.border-red-200]="conflict.type === 'error'"
            [class.bg-yellow-50]="conflict.type === 'warning'"
            [class.dark:bg-yellow-900/20]="conflict.type === 'warning'"
            [class.border-yellow-200]="conflict.type === 'warning'">
            
            <p class="font-semibold"
              [class.text-red-800]="conflict.type === 'error'"
              [class.dark:text-red-300]="conflict.type === 'error'"
              [class.text-yellow-800]="conflict.type === 'warning'"
              [class.dark:text-yellow-300]="conflict.type === 'warning'">
              @if(conflict.type === 'error') {
                <span class="material-symbols-outlined text-base align-middle mr-1">error</span>
                Timetable Conflict
              } @else {
                <span class="material-symbols-outlined text-base align-middle mr-1">warning</span>
                Potential Issue
              }
            </p>
            <p class="text-sm"
              [class.text-red-600]="conflict.type === 'error'"
              [class.dark:text-red-400]="conflict.type === 'error'"
              [class.text-yellow-600]="conflict.type === 'warning'"
              [class.dark:text-yellow-400]="conflict.type === 'warning'">
              {{ conflict.message }}
            </p>
            <a class="text-sm font-semibold text-primary hover:underline mt-2 inline-block" href="#">Resolve</a>
          </div>
        }
      </div>
    </div>
  </div>
</div>